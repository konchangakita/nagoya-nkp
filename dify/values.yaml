expose:
  ingressClassName: "" # required (e.g. dify-traefik)
  path: "/"            # fixed to root path (/)
  traefik:
    enabled: true      # Enable dedicated Traefik Ingress Controller
    # Traefik subchart values (passed to traefik subchart)
    service:
      type: LoadBalancer
    ingressClass:
      enabled: true
      name: dify-traefik
      isDefaultClass: false
    dashboard:
      enabled: false
    gateway:
      enabled: false   # Disable Gateway API (CRD conflict with existing)

external:
  scheme: ""           # required (e.g. https)
  host: ""             # required (LB IP or DNS)

images:
  web:
    repository: ""     # required (e.g. langgenius/dify-web)
    tag: ""            # required (e.g. 1.11.4)
  api:
    repository: ""     # required (e.g. langgenius/dify-api)
    tag: ""            # required (e.g. 1.11.4)
  worker:
    repository: ""     # required (e.g. langgenius/dify-api)
    tag: ""            # required (e.g. 1.11.4)

secrets:
  difySecretKey: ""    # required
  openaiApiKey: ""     # optional

storage:
  storageClassName: "" # required (e.g. nutanix-volume)

postgresql:
  enabled: true
  image:
    tag: "16"          # bitnami/postgresql:16
  persistence:
    size: ""           # required (e.g. 20Gi)
  auth:
    username: ""       # required (e.g. dify)
    password: ""       # required
    database: ""       # required (e.g. dify)

redis:
  enabled: true
  image:
    tag: "7.2"         # bitnami/redis:7.2
  persistence:
    size: ""           # required (e.g. 8Gi)
  auth:
    password: ""       # optional

weaviate:
  enabled: true
  service:
    type: ClusterIP    # ClusterIP is sufficient (no external access needed)
  grpcService:
    type: ClusterIP    # gRPC service should also be ClusterIP (no external access needed)
  persistence:
    enabled: true
    size: ""           # required (e.g. 50Gi)
    storageClass: ""   # optional, defaults to storage.storageClassName if empty

dify:
  fileStorage:
    enabled: true
    size: ""           # required (e.g. 20Gi)
    storageClass: ""  # optional, defaults to nutanix-nfs if empty

